!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";const s=window.ssuData.rest_url;const r={createAttachMeta:function(e,t,n){const r=new XMLHttpRequest;r.onload=()=>{const e=JSON.parse(r.responseText);r.status>=200&&r.status<300?n(null,e):n(e,null)},r.open("POST",s+"ssu/v1/wp-media");const o={"Content-Type":"application/json","Cache-control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"};Object.keys(o).forEach((function(e){r.setRequestHeader(e,o[e])})),window.ssuData&&window.ssuData.nonce&&r.setRequestHeader("X-WP-Nonce",window.ssuData.nonce),r.send(JSON.stringify({signedUrl:t,file:e}))},isFileExisted:function(e,t){const n=new XMLHttpRequest;n.onload=()=>{const e=JSON.parse(n.responseText);n.status>=200&&n.status<300?t(null,e):t(e)},n.open("POST",s+"ssu/v1/s3");const r={"Content-Type":"application/json","Cache-control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"};Object.keys(r).forEach((function(e){n.setRequestHeader(e,r[e])})),window.ssuData&&window.ssuData.nonce&&n.setRequestHeader("X-WP-Nonce",window.ssuData.nonce),n.send(JSON.stringify({file_name:e}))}};t.a=r},function(e,t,n){"use strict";var s=n(0);const r=window.ssuData.messages,o=e=>{if(window.ssuData&&!window.ssuData.enable_restriction)return!0;return e.size<=1e6*window.ssuData.max_file_size};t.a={addMediaCheckBox:function(e){const t=e("<input>",{type:"checkbox",class:"ssu-offload-add-media"});return e("<span>",{class:"ssu-add-media-btn"}).append(t).append("&nbsp;"+r.SSU_ADD_TO_MEDIA_OPT)},createFileBtn:function(e){const t=document.createElement("input");return t.type="file",t.onchange=e.onchange,t},createUploadBtn:function({text:e},t){return t("<a/>",{class:"button btn-ssu btn-ssu-offload",text:e,href:"#",style:"margin-left:8px"})},getSizeForImage:(e,t)=>{let n={};e.type.match(/image\/*/)||t(n);const s=URL.createObjectURL(e),r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.src=s},preprocessS3File:(e,t)=>{o(e)?s.a.isFileExisted(e.name,(function(n,s){if(n)return void alert(n.message);let r=e;if(s){const t=e.name.split("."),n=t.pop(),s=Math.round((new Date).getTime()/1e3);t.push(s);const o=`${t.join("-")}.${n}`;r=new File([e],o,{type:e.type})}t(r)})):alert(r.SSU_FILE_MAX_FILE_ERROR)},scrubS3Filename:e=>encodeURIComponent(e),getS3OriginalLink:e=>e?e.split("?")[0]:"",logError:(e,t)=>{console.log("[SSU_ERROR]"+t,e)},isAllowedFileSize:o,MESSAGE:r}},function(e,t,n){"use strict";function s(e){for(var t in e=e||{})e.hasOwnProperty(t)&&(this[t]=e[t]);var n=this.fileElement?this.fileElement.files:this.files||[];this.handleFileSelect(n)}s.prototype.server="",s.prototype.signingUrl="/sign-s3",s.prototype.signingUrlMethod="GET",s.prototype.successResponses=[200,201],s.prototype.fileElement=null,s.prototype.files=null,s.prototype.onFinishS3Put=function(e,t){return console.log("base.onFinishS3Put()",e.publicUrl)},s.prototype.preprocess=function(e,t){return console.log("base.preprocess()",e),t(e)},s.prototype.onProgress=function(e,t,n){return console.log("base.onProgress()",e,t)},s.prototype.onError=function(e,t){return console.log("base.onError()",e)},s.prototype.onSignedUrl=function(e){},s.prototype.scrubFilename=function(e){return e.replace(/[^\w\d_\-\.]+/gi,"")},s.prototype.handleFileSelect=function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n];this.preprocess(s,function(e){return this.onProgress(0,"Waiting",e),t.push(this.uploadFile(e)),t}.bind(this))}},s.prototype.createCORSRequest=function(e,t,n){n=n||{};var s=new XMLHttpRequest;return null!=s.withCredentials?(s.open(e,t,!0),null!=n.withCredentials&&(s.withCredentials=n.withCredentials)):"undefined"!=typeof XDomainRequest?(s=new XDomainRequest).open(e,t):s=null,s},s.prototype._getErrorRequestContext=function(e){return{response:e.responseText,status:e.status,statusText:e.statusText,readyState:e.readyState}},s.prototype.executeOnSignedUrl=function(e,t){var n="?objectName="+this.scrubFilename(e.name)+"&contentType="+encodeURIComponent(e.type);if(this.s3path&&(n+="&path="+encodeURIComponent(this.s3path)),this.signingUrlQueryParams){var s="function"==typeof this.signingUrlQueryParams?this.signingUrlQueryParams():this.signingUrlQueryParams;Object.keys(s).forEach((function(e){var t=s[e];n+="&"+e+"="+t}))}var r=this.createCORSRequest(this.signingUrlMethod,this.server+this.signingUrl+n,{withCredentials:this.signingUrlWithCredentials});if(this.signingUrlHeaders){var o="function"==typeof this.signingUrlHeaders?this.signingUrlHeaders():this.signingUrlHeaders;Object.keys(o).forEach((function(e){var t=o[e];r.setRequestHeader(e,t)}))}return r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(){if(4===r.readyState&&this.successResponses.indexOf(r.status)>=0){var n;try{n=JSON.parse(r.responseText),this.onSignedUrl(n)}catch(t){return this.onError("Invalid response from server",e,this._getErrorRequestContext(r)),!1}return t(n)}if(4===r.readyState&&this.successResponses.indexOf(r.status)<0)return this.onError("Could not contact request signing server. Status = "+r.status,e,this._getErrorRequestContext(r))}.bind(this),r.send()},s.prototype.uploadToS3=function(e,t){var n=this.createCORSRequest("PUT",t.signedUrl);if(n?(n.onload=function(){return this.successResponses.indexOf(n.status)>=0?(this.onProgress(100,"Upload completed",e),this.onFinishS3Put(t,e)):this.onError("Upload error: "+n.status,e,this._getErrorRequestContext(n))}.bind(this),n.onerror=function(){return this.onError("XHR error",e,this._getErrorRequestContext(n))}.bind(this),n.upload.onprogress=function(t){var n;if(t.lengthComputable)return n=Math.round(t.loaded/t.total*100),this.onProgress(n,100===n?"Finalizing":"Uploading",e)}.bind(this)):this.onError("CORS not supported",e,{}),n.setRequestHeader("Content-Type",e.type),this.contentDisposition){var s=this.contentDisposition;"auto"===s&&(s="image/"===e.type.substr(0,6)?"inline":"attachment");var r=this.scrubFilename(e.name);n.setRequestHeader("Content-Disposition",s+'; filename="'+r+'"')}if(t.headers){var o=t.headers;Object.keys(o).forEach((function(e){var t=o[e];n.setRequestHeader(e,t)}))}if(this.uploadRequestHeaders){var i=this.uploadRequestHeaders;Object.keys(i).forEach((function(e){var t=i[e];n.setRequestHeader(e,t)}))}else n.setRequestHeader("x-amz-acl","public-read");return this.httprequest=n,n.send(e)},s.prototype.uploadFile=function(e){var t=this.uploadToS3.bind(this,e);return this.getSignedUrl?this.getSignedUrl(e,t):this.executeOnSignedUrl(e,t)},s.prototype.abortUpload=function(){this.httprequest&&this.httprequest.abort()},t.a=s},function(e,t,n){"use strict";n.r(t);var s=n(2),r=n(1),o=n(0);const{createFileBtn:i,MESSAGE:a,getSizeForImage:u,preprocessS3File:c,scrubS3Filename:l,getS3OriginalLink:p,logError:d}=r.a;!function(e){function t(t,n){const s=e(e(this).data("row"));s.find("input[name='_wc_file_names[]']").val(n),s.find("input[name='_wc_file_hashes[]']").val(""),s.find("input[name='_wc_file_urls[]']").val(t),e(this).closest("table").find("tbody").append(s)}e((function(){e("body").on("click","a.ssu-offload-file-row",(function(n){n.preventDefault();const r=n.target.text;if(r.includes(a.SSU_BUTTON_PROCESS_STATUS)||r.includes(a.SSU_BUTTON_MEDIA_STATUS))return;const h=n,f=this;i({onchange:function(n){new s.a({fileElement:n.target,signingUrl:window.ssuData.rest_url+"ssu/v1/s3/sign",signingUrlMethod:"GET",uploadRequestHeaders:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","X-WP-Nonce":window.ssuData.nonce,contentDisposition:"auto"},onFinishS3Put:function(n,s){const r=n.signedUrl?p(n.signedUrl):"";if(t.apply(f,[r,s.name]),!1===e(".ssu-offload-add-media").prop("checked"))return h.target.text=a.SSU_BUTTON_LABEL,!1;h.target.text=a.SSU_BUTTON_MEDIA_STATUS,function(e,t,n){let s={name:e.name};u(e,(function(e){e.width&&e.height&&(s.width=e.width,s.height=e.height),o.a.createAttachMeta(s,t.signedUrl,n)}))}(s,n,(function(e){return e&&alert(e.message),h.target.text=a.SSU_BUTTON_LABEL,!1}))},onProgress:function(e){h.target.text=a.SSU_BUTTON_PROCESS_STATUS+" "+e+"%"},onError:function(e){h.target.text=a.SSU_BUTTON_LABEL,d("Error: "+e,"WOO_UPLOAD_BUTTON"),alert(a.SSU_FILE_UPLOAD_ERROR)},preprocess:c,scrubFilename:l})}}).click()}))}))}(jQuery)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3MzVXBsb2FkLmpzIiwid2VicGFjazovLy8uL2Rva2FuLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicm9vdERvbWFpbiIsIndpbmRvdyIsInNzdURhdGEiLCJyZXN0X3VybCIsIldQX0FQSSIsImNyZWF0ZUF0dGFjaE1ldGEiLCJmaWxlIiwic2lnbmVkVXJsIiwiY2IiLCJyZXEiLCJYTUxIdHRwUmVxdWVzdCIsIm9ubG9hZCIsInJlc3BvbnNlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzIiwib3BlbiIsImhlYWRlclBhcmFtcyIsImtleXMiLCJmb3JFYWNoIiwic2V0UmVxdWVzdEhlYWRlciIsIm5vbmNlIiwic2VuZCIsInN0cmluZ2lmeSIsImlzRmlsZUV4aXN0ZWQiLCJmaWxlX25hbWUiLCJNRVNTQUdFIiwibWVzc2FnZXMiLCJpc0FsbG93ZWRGaWxlU2l6ZSIsImVuYWJsZV9yZXN0cmljdGlvbiIsInNpemUiLCJtYXhfZmlsZV9zaXplIiwiYWRkTWVkaWFDaGVja0JveCIsIiQiLCJjaGVja2JveCIsImFwcGVuZCIsIlNTVV9BRERfVE9fTUVESUFfT1BUIiwiY3JlYXRlRmlsZUJ0biIsIm9wdHMiLCJpbnB1dCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJvbmNoYW5nZSIsImNyZWF0ZVVwbG9hZEJ0biIsInRleHQiLCJnZXRTaXplRm9ySW1hZ2UiLCJtYXRjaCIsInUiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJpbWciLCJJbWFnZSIsIndpZHRoIiwiaGVpZ2h0Iiwic3JjIiwicHJlcHJvY2Vzc1MzRmlsZSIsIm5leHQiLCJlcnIiLCJyZXMiLCJhbGVydCIsIm1lc3NhZ2UiLCJ1cGxvYWRGaWxlIiwidG1wIiwic3BsaXQiLCJleHRlbnNpb25zIiwicG9wIiwidGltZXN0YW1wIiwiTWF0aCIsInJvdW5kIiwiRGF0ZSIsImdldFRpbWUiLCJwdXNoIiwibmV3RmlsZW5hbWUiLCJqb2luIiwiRmlsZSIsIlNTVV9GSUxFX01BWF9GSUxFX0VSUk9SIiwic2NydWJTM0ZpbGVuYW1lIiwiZmlsZU5hbWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJnZXRTM09yaWdpbmFsTGluayIsImxvZ0Vycm9yIiwiZXJyb3IiLCJjb250ZXh0IiwiY29uc29sZSIsImxvZyIsIlMzVXBsb2FkIiwib3B0aW9ucyIsIm9wdGlvbiIsInRoaXMiLCJmaWxlcyIsImZpbGVFbGVtZW50IiwiaGFuZGxlRmlsZVNlbGVjdCIsInNlcnZlciIsInNpZ25pbmdVcmwiLCJzaWduaW5nVXJsTWV0aG9kIiwic3VjY2Vzc1Jlc3BvbnNlcyIsIm9uRmluaXNoUzNQdXQiLCJzaWduUmVzdWx0IiwicHVibGljVXJsIiwicHJlcHJvY2VzcyIsIm9uUHJvZ3Jlc3MiLCJwZXJjZW50Iiwib25FcnJvciIsIm9uU2lnbmVkVXJsIiwicmVzdWx0Iiwic2NydWJGaWxlbmFtZSIsImZpbGVuYW1lIiwicmVwbGFjZSIsImxlbmd0aCIsInByb2Nlc3NlZEZpbGUiLCJjcmVhdGVDT1JTUmVxdWVzdCIsIm1ldGhvZCIsInVybCIsInhociIsIndpdGhDcmVkZW50aWFscyIsIlhEb21haW5SZXF1ZXN0IiwiX2dldEVycm9yUmVxdWVzdENvbnRleHQiLCJzdGF0dXNUZXh0IiwicmVhZHlTdGF0ZSIsImV4ZWN1dGVPblNpZ25lZFVybCIsImNhbGxiYWNrIiwicXVlcnlTdHJpbmciLCJzM3BhdGgiLCJzaWduaW5nVXJsUXVlcnlQYXJhbXMiLCJ2YWwiLCJzaWduaW5nVXJsV2l0aENyZWRlbnRpYWxzIiwic2lnbmluZ1VybEhlYWRlcnMiLCJvdmVycmlkZU1pbWVUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiaW5kZXhPZiIsInVwbG9hZFRvUzMiLCJvbmVycm9yIiwidXBsb2FkIiwib25wcm9ncmVzcyIsImUiLCJwZXJjZW50TG9hZGVkIiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsInRvdGFsIiwiY29udGVudERpc3Bvc2l0aW9uIiwiZGlzcG9zaXRpb24iLCJzdWJzdHIiLCJoZWFkZXJzIiwic2lnblJlc3VsdEhlYWRlcnMiLCJ1cGxvYWRSZXF1ZXN0SGVhZGVycyIsImh0dHByZXF1ZXN0IiwidXBsb2FkVG9TM0NhbGxiYWNrIiwiZ2V0U2lnbmVkVXJsIiwiYWJvcnRVcGxvYWQiLCJhYm9ydCIsImFwcGVuZE9mZmxvYWRlZEZpbGUiLCJsaW5rIiwiZmlsZURhdGFUZW1wbGF0ZSIsImRhdGEiLCJmaW5kIiwiY2xvc2VzdCIsIm9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJidG5UZXh0IiwidGFyZ2V0IiwiaW5jbHVkZXMiLCJTU1VfQlVUVE9OX1BST0NFU1NfU1RBVFVTIiwiU1NVX0JVVFRPTl9NRURJQV9TVEFUVVMiLCJzc3VCdG4iLCJzZWxmIiwiUHJhZ21hIiwiRXhwaXJlcyIsImFwcGx5IiwicHJvcCIsIlNTVV9CVVRUT05fTEFCRUwiLCJhZGRUb01lZGlhIiwiU1NVX0ZJTEVfVVBMT0FEX0VSUk9SIiwiY2xpY2siLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1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IFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiY29uc3Qgcm9vdERvbWFpbiA9IHdpbmRvdy5zc3VEYXRhLnJlc3RfdXJsO1xuXG5mdW5jdGlvbiBnZXRSZXFIZWFkZXJzKCkge1xuICByZXR1cm4ge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCdDYWNoZS1jb250cm9sJzogJ25vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJyxcblx0J1ByYWdtYSc6ICduby1jYWNoZScsXG4gIH1cbn1cblxuY29uc3QgV1BfQVBJID0ge1xuICBjcmVhdGVBdHRhY2hNZXRhOiBmdW5jdGlvbiAoZmlsZSwgc2lnbmVkVXJsLCBjYikge1xuXHRjb25zdCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0cmVxLm9ubG9hZCA9ICgpID0+IHtcblx0ICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UocmVxLnJlc3BvbnNlVGV4dCk7XG5cdCAgaWYgKHJlcS5zdGF0dXMgPj0gMjAwICYmIHJlcS5zdGF0dXMgPCAzMDApIHtcblx0XHRjYihudWxsLCByZXNwb25zZSk7XG5cdFx0cmV0dXJuO1xuXHQgIH1cblx0ICBjYihyZXNwb25zZSwgbnVsbCk7XG5cdH1cblxuXHRyZXEub3BlbignUE9TVCcsIGAke3Jvb3REb21haW59c3N1L3YxL3dwLW1lZGlhYCk7XG5cdGNvbnN0IGhlYWRlclBhcmFtcyA9IGdldFJlcUhlYWRlcnMoKTtcblx0T2JqZWN0LmtleXMoaGVhZGVyUGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICByZXEuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlclBhcmFtc1trZXldKTtcblx0fSk7XG5cdGlmICh3aW5kb3cuc3N1RGF0YSAmJiB3aW5kb3cuc3N1RGF0YS5ub25jZSkge1xuXHQgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdYLVdQLU5vbmNlJywgd2luZG93LnNzdURhdGEubm9uY2UpO1xuXHR9XG5cdHJlcS5zZW5kKEpTT04uc3RyaW5naWZ5KHtcblx0ICBcInNpZ25lZFVybFwiOiBzaWduZWRVcmwsXG5cdCAgXCJmaWxlXCI6IGZpbGVcblx0fSkpO1xuICB9LFxuICBpc0ZpbGVFeGlzdGVkOiBmdW5jdGlvbiAobmFtZSwgY2IpIHtcblx0Y29uc3QgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdHJlcS5vbmxvYWQgPSAoKSA9PiB7XG5cdCAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcS5yZXNwb25zZVRleHQpO1xuXHQgIGlmIChyZXEuc3RhdHVzID49IDIwMCAmJiByZXEuc3RhdHVzIDwgMzAwKSB7XG5cdFx0Y2IobnVsbCwgcmVzcG9uc2UpO1xuXHRcdHJldHVybjtcblx0ICB9XG5cdCAgY2IocmVzcG9uc2UpO1xuXHR9XG5cblx0cmVxLm9wZW4oJ1BPU1QnLCBgJHtyb290RG9tYWlufXNzdS92MS9zM2ApO1xuXHRjb25zdCBoZWFkZXJQYXJhbXMgPSBnZXRSZXFIZWFkZXJzKCk7XG5cdE9iamVjdC5rZXlzKGhlYWRlclBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgcmVxLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJQYXJhbXNba2V5XSk7XG5cdH0pO1xuXHRpZiAod2luZG93LnNzdURhdGEgJiYgd2luZG93LnNzdURhdGEubm9uY2UpIHtcblx0ICByZXEuc2V0UmVxdWVzdEhlYWRlcignWC1XUC1Ob25jZScsIHdpbmRvdy5zc3VEYXRhLm5vbmNlKTtcblx0fVxuXHRyZXEuc2VuZChKU09OLnN0cmluZ2lmeSh7XG5cdCAgZmlsZV9uYW1lOiBuYW1lLFxuXHR9KSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV1BfQVBJO1xuIiwiaW1wb3J0IFdQX0FQSSBmcm9tIFwiLi9hcGlcIjtcblxuY29uc3QgYWRkTWVkaWFDaGVja0JveCA9IGZ1bmN0aW9uICgkKSB7XG4gIGNvbnN0IGNoZWNrYm94ID0gJChcIjxpbnB1dD5cIiwge1xuXHRcInR5cGVcIjogXCJjaGVja2JveFwiLFxuXHRcImNsYXNzXCI6IFwic3N1LW9mZmxvYWQtYWRkLW1lZGlhXCIsXG4gIH0pXG5cbiAgY29uc3Qgc3BhbiA9ICQoXCI8c3Bhbj5cIiwge1xuICAgIFwiY2xhc3NcIjogXCJzc3UtYWRkLW1lZGlhLWJ0blwiLFxuICB9KS5hcHBlbmQoY2hlY2tib3gpLmFwcGVuZChcIiZuYnNwO1wiICsgTUVTU0FHRS5TU1VfQUREX1RPX01FRElBX09QVCk7XG5cbiAgcmV0dXJuIHNwYW47XG59O1xuXG5jb25zdCBjcmVhdGVGaWxlQnRuID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBpbnB1dC50eXBlID0gJ2ZpbGUnO1xuICBpbnB1dC5vbmNoYW5nZSA9IG9wdHMub25jaGFuZ2U7XG4gIHJldHVybiBpbnB1dDtcbn1cblxuY29uc3QgY3JlYXRlVXBsb2FkQnRuID0gZnVuY3Rpb24gKHt0ZXh0fSwgJCkge1xuICByZXR1cm4gJChcIjxhLz5cIiwge1xuXHRcImNsYXNzXCI6IFwiYnV0dG9uIGJ0bi1zc3UgYnRuLXNzdS1vZmZsb2FkXCIsXG5cdFwidGV4dFwiOiB0ZXh0LFxuXHRcImhyZWZcIjogXCIjXCIsXG5cdFwic3R5bGVcIjogXCJtYXJnaW4tbGVmdDo4cHhcIlxuICB9KTtcbn1cblxuY29uc3QgTUVTU0FHRSA9IHdpbmRvdy5zc3VEYXRhLm1lc3NhZ2VzO1xuXG5jb25zdCBnZXRTaXplRm9ySW1hZ2UgPSAoZmlsZSwgY2IpID0+IHtcbiAgbGV0IHNpemUgPSB7fTtcbiAgaWYoIWZpbGUudHlwZS5tYXRjaCgvaW1hZ2VcXC8qLykpIHtcbiAgICBjYihzaXplKTtcbiAgfVxuXG4gIGNvbnN0IHUgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICBjYih7XG5cdCAgd2lkdGg6IGltZy53aWR0aCxcblx0ICBoZWlnaHQ6IGltZy5oZWlnaHQsXG5cdH0pXG4gIH07XG5cbiAgaW1nLnNyYyA9IHU7XG59XG5cbmNvbnN0IHByZXByb2Nlc3NTM0ZpbGUgPSAoZmlsZSwgbmV4dCkgPT4ge1xuICBpZighaXNBbGxvd2VkRmlsZVNpemUoZmlsZSkpIHtcblx0YWxlcnQoTUVTU0FHRS5TU1VfRklMRV9NQVhfRklMRV9FUlJPUik7XG5cdHJldHVybjtcbiAgfVxuXG4gIFdQX0FQSS5pc0ZpbGVFeGlzdGVkKGZpbGUubmFtZSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG5cdGlmIChlcnIpIHtcblx0ICBhbGVydChlcnIubWVzc2FnZSk7XG5cdCAgcmV0dXJuO1xuXHR9XG5cdGxldCB1cGxvYWRGaWxlID0gZmlsZTtcblx0aWYgKHJlcykge1xuXHQgIGNvbnN0IHRtcCA9IGZpbGUubmFtZS5zcGxpdCgnLicpO1xuXHQgIGNvbnN0IGV4dGVuc2lvbnMgPSB0bXAucG9wKCk7XG5cdCAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5yb3VuZCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMTAwMCk7XG5cdCAgdG1wLnB1c2godGltZXN0YW1wKTtcblx0ICBjb25zdCBuZXdGaWxlbmFtZSA9IGAke3RtcC5qb2luKCctJyl9LiR7ZXh0ZW5zaW9uc31gO1xuXG5cdCAgLy8gUmVuYW1lIHRoZSBGaWxlIGluIGphdmFzY3JpcHQgKGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwNzMzOTA0L3JlbmFtaW5nLWEtZmlsZS1vYmplY3QtaW4tamF2YXNjcmlwdClcblx0ICB1cGxvYWRGaWxlID0gbmV3IEZpbGUoW2ZpbGVdLCBuZXdGaWxlbmFtZSwge3R5cGU6IGZpbGUudHlwZX0pO1xuXHR9XG5cdG5leHQodXBsb2FkRmlsZSk7XG4gIH0pO1xufVxuXG5jb25zdCBzY3J1YlMzRmlsZW5hbWUgPSAoZmlsZU5hbWUpID0+IHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChmaWxlTmFtZSk7XG59XG5cbmNvbnN0IGdldFMzT3JpZ2luYWxMaW5rID0gKHNpZ25lZFVybCkgPT4ge1xuICByZXR1cm4gc2lnbmVkVXJsID8gc2lnbmVkVXJsLnNwbGl0KCc/JylbMF0gOiAnJztcbn1cblxuY29uc3QgbG9nRXJyb3IgPSAoZXJyb3IsIGNvbnRleHQpID0+IHtcbiAgY29uc29sZS5sb2coYFtTU1VfRVJST1JdJHtjb250ZXh0fWAsIGVycm9yKTtcbn1cblxuY29uc3QgaXNBbGxvd2VkRmlsZVNpemUgPSAoZmlsZSkgPT4ge1xuICBpZiAod2luZG93LnNzdURhdGEgJiYgIXdpbmRvdy5zc3VEYXRhLmVuYWJsZV9yZXN0cmljdGlvbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3Qgb25lTWJUb0J5ZSA9IDEwMDAwMDA7XG4gIHJldHVybiBmaWxlLnNpemUgPD0gd2luZG93LnNzdURhdGEubWF4X2ZpbGVfc2l6ZSAqIG9uZU1iVG9CeWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYWRkTWVkaWFDaGVja0JveCxcbiAgY3JlYXRlRmlsZUJ0bixcbiAgY3JlYXRlVXBsb2FkQnRuLFxuICBnZXRTaXplRm9ySW1hZ2UsXG4gIHByZXByb2Nlc3NTM0ZpbGUsXG4gIHNjcnViUzNGaWxlbmFtZSxcbiAgZ2V0UzNPcmlnaW5hbExpbmssXG4gIGxvZ0Vycm9yLFxuICBpc0FsbG93ZWRGaWxlU2l6ZSxcbiAgTUVTU0FHRVxufVxuIiwiUzNVcGxvYWQucHJvdG90eXBlLnNlcnZlciA9ICcnO1xuUzNVcGxvYWQucHJvdG90eXBlLnNpZ25pbmdVcmwgPSAnL3NpZ24tczMnO1xuUzNVcGxvYWQucHJvdG90eXBlLnNpZ25pbmdVcmxNZXRob2QgPSAnR0VUJztcblMzVXBsb2FkLnByb3RvdHlwZS5zdWNjZXNzUmVzcG9uc2VzID0gWzIwMCwgMjAxXTtcblMzVXBsb2FkLnByb3RvdHlwZS5maWxlRWxlbWVudCA9IG51bGw7XG5TM1VwbG9hZC5wcm90b3R5cGUuZmlsZXMgPSBudWxsO1xuXG5TM1VwbG9hZC5wcm90b3R5cGUub25GaW5pc2hTM1B1dCA9IGZ1bmN0aW9uKHNpZ25SZXN1bHQsIGZpbGUpIHtcbiAgcmV0dXJuIGNvbnNvbGUubG9nKCdiYXNlLm9uRmluaXNoUzNQdXQoKScsIHNpZ25SZXN1bHQucHVibGljVXJsKTtcbn07XG5cblMzVXBsb2FkLnByb3RvdHlwZS5wcmVwcm9jZXNzID0gZnVuY3Rpb24oZmlsZSwgbmV4dCkge1xuICBjb25zb2xlLmxvZygnYmFzZS5wcmVwcm9jZXNzKCknLCBmaWxlKTtcbiAgcmV0dXJuIG5leHQoZmlsZSk7XG59O1xuXG5TM1VwbG9hZC5wcm90b3R5cGUub25Qcm9ncmVzcyA9IGZ1bmN0aW9uKHBlcmNlbnQsIHN0YXR1cywgZmlsZSkge1xuICByZXR1cm4gY29uc29sZS5sb2coJ2Jhc2Uub25Qcm9ncmVzcygpJywgcGVyY2VudCwgc3RhdHVzKTtcbn07XG5cblMzVXBsb2FkLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24oc3RhdHVzLCBmaWxlKSB7XG4gIHJldHVybiBjb25zb2xlLmxvZygnYmFzZS5vbkVycm9yKCknLCBzdGF0dXMpO1xufTtcblxuUzNVcGxvYWQucHJvdG90eXBlLm9uU2lnbmVkVXJsID0gZnVuY3Rpb24ocmVzdWx0KSB7fTtcblxuUzNVcGxvYWQucHJvdG90eXBlLnNjcnViRmlsZW5hbWUgPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gZmlsZW5hbWUucmVwbGFjZSgvW15cXHdcXGRfXFwtXFwuXSsvaWcsICcnKTtcbn07XG5cbmZ1bmN0aW9uIFMzVXBsb2FkKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGZvciAodmFyIG9wdGlvbiBpbiBvcHRpb25zKSB7XG5cdGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcblx0ICB0aGlzW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG5cdH1cbiAgfVxuICB2YXIgZmlsZXMgPSB0aGlzLmZpbGVFbGVtZW50ID8gdGhpcy5maWxlRWxlbWVudC5maWxlcyA6IHRoaXMuZmlsZXMgfHwgW107XG4gIHRoaXMuaGFuZGxlRmlsZVNlbGVjdChmaWxlcyk7XG59XG5cblMzVXBsb2FkLnByb3RvdHlwZS5oYW5kbGVGaWxlU2VsZWN0ID0gZnVuY3Rpb24oZmlsZXMpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpPTA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuXHR2YXIgZmlsZSA9IGZpbGVzW2ldO1xuXHR0aGlzLnByZXByb2Nlc3MoZmlsZSwgZnVuY3Rpb24ocHJvY2Vzc2VkRmlsZSl7XG5cdCAgdGhpcy5vblByb2dyZXNzKDAsICdXYWl0aW5nJywgcHJvY2Vzc2VkRmlsZSk7XG5cdCAgcmVzdWx0LnB1c2godGhpcy51cGxvYWRGaWxlKHByb2Nlc3NlZEZpbGUpKTtcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9LmJpbmQodGhpcykpO1xuICB9XG59O1xuXG5TM1VwbG9hZC5wcm90b3R5cGUuY3JlYXRlQ09SU1JlcXVlc3QgPSBmdW5jdGlvbihtZXRob2QsIHVybCwgb3B0cykge1xuICB2YXIgb3B0cyA9IG9wdHMgfHwge307XG4gIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICBpZiAoeGhyLndpdGhDcmVkZW50aWFscyAhPSBudWxsKSB7XG5cdHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblx0aWYgKG9wdHMud2l0aENyZWRlbnRpYWxzICE9IG51bGwpIHtcblx0ICB4aHIud2l0aENyZWRlbnRpYWxzID0gb3B0cy53aXRoQ3JlZGVudGlhbHM7XG5cdH1cbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0eGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG5cdHhoci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgfVxuICBlbHNlIHtcblx0eGhyID0gbnVsbDtcbiAgfVxuICByZXR1cm4geGhyO1xufTtcblxuUzNVcGxvYWQucHJvdG90eXBlLl9nZXRFcnJvclJlcXVlc3RDb250ZXh0ID0gZnVuY3Rpb24gKHhocikge1xuICByZXR1cm4ge1xuXHRyZXNwb25zZTogeGhyLnJlc3BvbnNlVGV4dCxcblx0c3RhdHVzOiB4aHIuc3RhdHVzLFxuXHRzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcblx0cmVhZHlTdGF0ZTogeGhyLnJlYWR5U3RhdGVcbiAgfTtcbn1cblxuUzNVcGxvYWQucHJvdG90eXBlLmV4ZWN1dGVPblNpZ25lZFVybCA9IGZ1bmN0aW9uKGZpbGUsIGNhbGxiYWNrKSB7XG4gIHZhciBmaWxlTmFtZSA9IHRoaXMuc2NydWJGaWxlbmFtZShmaWxlLm5hbWUpO1xuICB2YXIgcXVlcnlTdHJpbmcgPSAnP29iamVjdE5hbWU9JyArIGZpbGVOYW1lICsgJyZjb250ZW50VHlwZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGUudHlwZSk7XG4gIGlmICh0aGlzLnMzcGF0aCkge1xuXHRxdWVyeVN0cmluZyArPSAnJnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnMzcGF0aCk7XG4gIH1cbiAgaWYgKHRoaXMuc2lnbmluZ1VybFF1ZXJ5UGFyYW1zKSB7XG5cdHZhciBzaWduaW5nVXJsUXVlcnlQYXJhbXMgPSB0eXBlb2YgdGhpcy5zaWduaW5nVXJsUXVlcnlQYXJhbXMgPT09ICdmdW5jdGlvbicgPyB0aGlzLnNpZ25pbmdVcmxRdWVyeVBhcmFtcygpIDogdGhpcy5zaWduaW5nVXJsUXVlcnlQYXJhbXM7XG5cdE9iamVjdC5rZXlzKHNpZ25pbmdVcmxRdWVyeVBhcmFtcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0ICB2YXIgdmFsID0gc2lnbmluZ1VybFF1ZXJ5UGFyYW1zW2tleV07XG5cdCAgcXVlcnlTdHJpbmcgKz0gJyYnICsga2V5ICsgJz0nICsgdmFsO1xuXHR9KTtcbiAgfVxuICB2YXIgeGhyID0gdGhpcy5jcmVhdGVDT1JTUmVxdWVzdCh0aGlzLnNpZ25pbmdVcmxNZXRob2QsXG5cdHRoaXMuc2VydmVyICsgdGhpcy5zaWduaW5nVXJsICsgcXVlcnlTdHJpbmcsIHsgd2l0aENyZWRlbnRpYWxzOiB0aGlzLnNpZ25pbmdVcmxXaXRoQ3JlZGVudGlhbHMgfSk7XG4gIGlmICh0aGlzLnNpZ25pbmdVcmxIZWFkZXJzKSB7XG5cdHZhciBzaWduaW5nVXJsSGVhZGVycyA9IHR5cGVvZiB0aGlzLnNpZ25pbmdVcmxIZWFkZXJzID09PSAnZnVuY3Rpb24nID8gdGhpcy5zaWduaW5nVXJsSGVhZGVycygpIDogdGhpcy5zaWduaW5nVXJsSGVhZGVycztcblx0T2JqZWN0LmtleXMoc2lnbmluZ1VybEhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdCAgdmFyIHZhbCA9IHNpZ25pbmdVcmxIZWFkZXJzW2tleV07XG5cdCAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuXHR9KTtcbiAgfVxuICB4aHIub3ZlcnJpZGVNaW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSgndGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZCcpO1xuICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB0aGlzLnN1Y2Nlc3NSZXNwb25zZXMuaW5kZXhPZih4aHIuc3RhdHVzKSA+PSAwKSB7XG5cdCAgdmFyIHJlc3VsdDtcblx0ICB0cnkge1xuXHRcdHJlc3VsdCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG5cdFx0dGhpcy5vblNpZ25lZFVybCggcmVzdWx0ICk7XG5cdCAgfSBjYXRjaCAoZXJyb3IpIHtcblx0XHR0aGlzLm9uRXJyb3IoXG5cdFx0ICAnSW52YWxpZCByZXNwb25zZSBmcm9tIHNlcnZlcicsXG5cdFx0ICBmaWxlLFxuXHRcdCAgdGhpcy5fZ2V0RXJyb3JSZXF1ZXN0Q29udGV4dCh4aHIpXG5cdFx0KTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xuXHR9IGVsc2UgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHRoaXMuc3VjY2Vzc1Jlc3BvbnNlcy5pbmRleE9mKHhoci5zdGF0dXMpIDwgMCkge1xuXHQgIHJldHVybiB0aGlzLm9uRXJyb3IoXG5cdFx0J0NvdWxkIG5vdCBjb250YWN0IHJlcXVlc3Qgc2lnbmluZyBzZXJ2ZXIuIFN0YXR1cyA9ICcgKyB4aHIuc3RhdHVzLFxuXHRcdGZpbGUsXG5cdFx0dGhpcy5fZ2V0RXJyb3JSZXF1ZXN0Q29udGV4dCh4aHIpXG5cdCAgKTtcblx0fVxuICB9LmJpbmQodGhpcyk7XG4gIHJldHVybiB4aHIuc2VuZCgpO1xufTtcblxuUzNVcGxvYWQucHJvdG90eXBlLnVwbG9hZFRvUzMgPSBmdW5jdGlvbihmaWxlLCBzaWduUmVzdWx0KSB7XG4gIHZhciB4aHIgPSB0aGlzLmNyZWF0ZUNPUlNSZXF1ZXN0KCdQVVQnLCBzaWduUmVzdWx0LnNpZ25lZFVybCk7XG4gIGlmICgheGhyKSB7XG5cdHRoaXMub25FcnJvcignQ09SUyBub3Qgc3VwcG9ydGVkJywgZmlsZSwge30pO1xuICB9IGVsc2Uge1xuXHR4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgaWYgKHRoaXMuc3VjY2Vzc1Jlc3BvbnNlcy5pbmRleE9mKHhoci5zdGF0dXMpID49IDApIHtcblx0XHR0aGlzLm9uUHJvZ3Jlc3MoMTAwLCAnVXBsb2FkIGNvbXBsZXRlZCcsIGZpbGUpO1xuXHRcdHJldHVybiB0aGlzLm9uRmluaXNoUzNQdXQoc2lnblJlc3VsdCwgZmlsZSk7XG5cdCAgfSBlbHNlIHtcblx0XHRyZXR1cm4gdGhpcy5vbkVycm9yKFxuXHRcdCAgJ1VwbG9hZCBlcnJvcjogJyArIHhoci5zdGF0dXMsXG5cdFx0ICBmaWxlLFxuXHRcdCAgdGhpcy5fZ2V0RXJyb3JSZXF1ZXN0Q29udGV4dCh4aHIpXG5cdFx0KTtcblx0ICB9XG5cdH0uYmluZCh0aGlzKTtcblx0eGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gdGhpcy5vbkVycm9yKFxuXHRcdCdYSFIgZXJyb3InLFxuXHRcdGZpbGUsXG5cdFx0dGhpcy5fZ2V0RXJyb3JSZXF1ZXN0Q29udGV4dCh4aHIpXG5cdCAgKTtcblx0fS5iaW5kKHRoaXMpO1xuXHR4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihlKSB7XG5cdCAgdmFyIHBlcmNlbnRMb2FkZWQ7XG5cdCAgaWYgKGUubGVuZ3RoQ29tcHV0YWJsZSkge1xuXHRcdHBlcmNlbnRMb2FkZWQgPSBNYXRoLnJvdW5kKChlLmxvYWRlZCAvIGUudG90YWwpICogMTAwKTtcblx0XHRyZXR1cm4gdGhpcy5vblByb2dyZXNzKHBlcmNlbnRMb2FkZWQsIHBlcmNlbnRMb2FkZWQgPT09IDEwMCA/ICdGaW5hbGl6aW5nJyA6ICdVcGxvYWRpbmcnLCBmaWxlKTtcblx0ICB9XG5cdH0uYmluZCh0aGlzKTtcbiAgfVxuICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgZmlsZS50eXBlKTtcbiAgaWYgKHRoaXMuY29udGVudERpc3Bvc2l0aW9uKSB7XG5cdHZhciBkaXNwb3NpdGlvbiA9IHRoaXMuY29udGVudERpc3Bvc2l0aW9uO1xuXHRpZiAoZGlzcG9zaXRpb24gPT09ICdhdXRvJykge1xuXHQgIGlmIChmaWxlLnR5cGUuc3Vic3RyKDAsIDYpID09PSAnaW1hZ2UvJykge1xuXHRcdGRpc3Bvc2l0aW9uID0gJ2lubGluZSc7XG5cdCAgfSBlbHNlIHtcblx0XHRkaXNwb3NpdGlvbiA9ICdhdHRhY2htZW50Jztcblx0ICB9XG5cdH1cblxuXHR2YXIgZmlsZU5hbWUgPSB0aGlzLnNjcnViRmlsZW5hbWUoZmlsZS5uYW1lKVxuXHR4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsIGRpc3Bvc2l0aW9uICsgJzsgZmlsZW5hbWU9XCInICsgZmlsZU5hbWUgKyAnXCInKTtcbiAgfVxuICBpZiAoc2lnblJlc3VsdC5oZWFkZXJzKSB7XG5cdHZhciBzaWduUmVzdWx0SGVhZGVycyA9IHNpZ25SZXN1bHQuaGVhZGVyc1xuXHRPYmplY3Qua2V5cyhzaWduUmVzdWx0SGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0ICB2YXIgdmFsID0gc2lnblJlc3VsdEhlYWRlcnNba2V5XTtcblx0ICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG5cdH0pXG4gIH1cbiAgaWYgKHRoaXMudXBsb2FkUmVxdWVzdEhlYWRlcnMpIHtcblx0dmFyIHVwbG9hZFJlcXVlc3RIZWFkZXJzID0gdGhpcy51cGxvYWRSZXF1ZXN0SGVhZGVycztcblx0T2JqZWN0LmtleXModXBsb2FkUmVxdWVzdEhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdCAgdmFyIHZhbCA9IHVwbG9hZFJlcXVlc3RIZWFkZXJzW2tleV07XG5cdCAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuXHR9KTtcbiAgfSBlbHNlIHtcblx0eGhyLnNldFJlcXVlc3RIZWFkZXIoJ3gtYW16LWFjbCcsICdwdWJsaWMtcmVhZCcpO1xuICB9XG4gIHRoaXMuaHR0cHJlcXVlc3QgPSB4aHI7XG4gIHJldHVybiB4aHIuc2VuZChmaWxlKTtcbn07XG5cblMzVXBsb2FkLnByb3RvdHlwZS51cGxvYWRGaWxlID0gZnVuY3Rpb24oZmlsZSkge1xuICB2YXIgdXBsb2FkVG9TM0NhbGxiYWNrID0gdGhpcy51cGxvYWRUb1MzLmJpbmQodGhpcywgZmlsZSk7XG5cbiAgaWYodGhpcy5nZXRTaWduZWRVcmwpIHJldHVybiB0aGlzLmdldFNpZ25lZFVybChmaWxlLCB1cGxvYWRUb1MzQ2FsbGJhY2spO1xuICByZXR1cm4gdGhpcy5leGVjdXRlT25TaWduZWRVcmwoZmlsZSwgdXBsb2FkVG9TM0NhbGxiYWNrKTtcbn07XG5cblMzVXBsb2FkLnByb3RvdHlwZS5hYm9ydFVwbG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmh0dHByZXF1ZXN0ICYmIHRoaXMuaHR0cHJlcXVlc3QuYWJvcnQoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFMzVXBsb2FkO1xuIiwiaW1wb3J0IFMzVXBsb2FkIGZyb20gJy4vc3JjL3MzVXBsb2FkJztcbmltcG9ydCBVdGlscyBmcm9tICcuL3NyYy91dGlscyc7XG5pbXBvcnQgV1BfQVBJIGZyb20gJy4vc3JjL2FwaSc7XG5cbmNvbnN0IHtjcmVhdGVGaWxlQnRuLCBNRVNTQUdFLCBnZXRTaXplRm9ySW1hZ2UsIHByZXByb2Nlc3NTM0ZpbGUsIHNjcnViUzNGaWxlbmFtZSwgZ2V0UzNPcmlnaW5hbExpbmssIGxvZ0Vycm9yfSA9IFV0aWxzO1xuXG4oZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBBcHBlbmQgbmV3IHJvdyBpbiBwcm9kdWN0IGZpbGVzLlxuICAgKlxuICAgKiBAcGFyYW0gc3RyaW5nIGxpbmsgVXBsb2FkZWQgbGluay5cbiAgICogQHBhcmFtIHN0cmluZyBuYW1lIEZpbGUgbmFtZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZE9mZmxvYWRlZEZpbGUgKGxpbmssIG5hbWUpIHtcbiAgICBjb25zdCBmaWxlRGF0YVRlbXBsYXRlID0gJCgkKHRoaXMpLmRhdGEoJ3JvdycpKTtcbiAgICBmaWxlRGF0YVRlbXBsYXRlLmZpbmQoJ2lucHV0W25hbWU9XFwnX3djX2ZpbGVfbmFtZXNbXVxcJ10nKS52YWwobmFtZSk7XG4gICAgZmlsZURhdGFUZW1wbGF0ZS5maW5kKCdpbnB1dFtuYW1lPVxcJ193Y19maWxlX2hhc2hlc1tdXFwnXScpLnZhbCgnJyk7XG4gICAgZmlsZURhdGFUZW1wbGF0ZS5maW5kKCdpbnB1dFtuYW1lPVxcJ193Y19maWxlX3VybHNbXVxcJ10nKS52YWwobGluayk7XG4gICAgJCh0aGlzKS5jbG9zZXN0KCd0YWJsZScpLmZpbmQoJ3Rib2R5JykuYXBwZW5kKGZpbGVEYXRhVGVtcGxhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB1cGxvYWRlZCBmaWxlIHRvIFdQIE1lZGlhLlxuICAgKlxuICAgKiBAcGFyYW0gZmlsZVxuICAgKiBAcGFyYW0gc2lnblJlc3VsdFxuICAgKiBAcGFyYW0gY2JcbiAgICovXG4gIGZ1bmN0aW9uIGFkZFRvTWVkaWEgKGZpbGUsIHNpZ25SZXN1bHQsIGNiKSB7XG4gICAgbGV0IHVwbG9hZEZpbGUgPSB7XG4gICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgfTtcbiAgICBnZXRTaXplRm9ySW1hZ2UoZmlsZSwgZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgIGlmIChzaXplLndpZHRoICYmIHNpemUuaGVpZ2h0KSB7XG4gICAgICAgIHVwbG9hZEZpbGUud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB1cGxvYWRGaWxlLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgV1BfQVBJLmNyZWF0ZUF0dGFjaE1ldGEodXBsb2FkRmlsZSwgc2lnblJlc3VsdC5zaWduZWRVcmwsIGNiKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE9uIERPTSByZWFkeVxuICAkKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBGaWxlIGlucHV0c1xuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnYS5zc3Utb2ZmbG9hZC1maWxlLXJvdycsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgYnRuVGV4dCA9IGV2dC50YXJnZXQudGV4dDtcbiAgICAgIGlmIChidG5UZXh0LmluY2x1ZGVzKE1FU1NBR0UuU1NVX0JVVFRPTl9QUk9DRVNTX1NUQVRVUykgfHxcbiAgICAgICAgYnRuVGV4dC5pbmNsdWRlcyhNRVNTQUdFLlNTVV9CVVRUT05fTUVESUFfU1RBVFVTKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNzdUJ0biA9IGV2dDtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgZmlsZUlucHV0ID0gY3JlYXRlRmlsZUJ0bih7XG4gICAgICAgIG9uY2hhbmdlOiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgbmV3IFMzVXBsb2FkKHtcbiAgICAgICAgICAgIGZpbGVFbGVtZW50OiBldnQudGFyZ2V0LFxuICAgICAgICAgICAgc2lnbmluZ1VybDogd2luZG93LnNzdURhdGEucmVzdF91cmwgKyAnc3N1L3YxL3MzL3NpZ24nLFxuICAgICAgICAgICAgc2lnbmluZ1VybE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cGxvYWRSZXF1ZXN0SGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsXG4gICAgICAgICAgICAgIFByYWdtYTogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICAgRXhwaXJlczogJzAnLFxuICAgICAgICAgICAgICAnWC1XUC1Ob25jZSc6IHdpbmRvdy5zc3VEYXRhLm5vbmNlLFxuICAgICAgICAgICAgICBjb250ZW50RGlzcG9zaXRpb246ICdhdXRvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZpbmlzaFMzUHV0OiBmdW5jdGlvbiAoc2lnblJlc3VsdCwgZmlsZSkge1xuICAgICAgICAgICAgICBjb25zdCBsaW5rID0gc2lnblJlc3VsdC5zaWduZWRVcmwgPyBnZXRTM09yaWdpbmFsTGluayhcbiAgICAgICAgICAgICAgICBzaWduUmVzdWx0LnNpZ25lZFVybCkgOiAnJztcbiAgICAgICAgICAgICAgYXBwZW5kT2ZmbG9hZGVkRmlsZS5hcHBseShzZWxmLCBbbGluaywgZmlsZS5uYW1lXSk7XG4gICAgICAgICAgICAgIGlmIChmYWxzZSA9PT0gJCgnLnNzdS1vZmZsb2FkLWFkZC1tZWRpYScpLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgIHNzdUJ0bi50YXJnZXQudGV4dCA9IE1FU1NBR0UuU1NVX0JVVFRPTl9MQUJFTDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBBZGQgdG8gV1AgTWVkaWEuXG4gICAgICAgICAgICAgIHNzdUJ0bi50YXJnZXQudGV4dCA9IE1FU1NBR0UuU1NVX0JVVFRPTl9NRURJQV9TVEFUVVM7XG4gICAgICAgICAgICAgIGFkZFRvTWVkaWEoZmlsZSwgc2lnblJlc3VsdCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBhbGVydChlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3N1QnRuLnRhcmdldC50ZXh0ID0gTUVTU0FHRS5TU1VfQlVUVE9OX0xBQkVMO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gKHBlcmNlbnQpIHtcbiAgICAgICAgICAgICAgc3N1QnRuLnRhcmdldC50ZXh0ID0gTUVTU0FHRS5TU1VfQlVUVE9OX1BST0NFU1NfU1RBVFVTICsgJyAnICtcbiAgICAgICAgICAgICAgICBwZXJjZW50ICsgJyUnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgc3N1QnRuLnRhcmdldC50ZXh0ID0gTUVTU0FHRS5TU1VfQlVUVE9OX0xBQkVMO1xuICAgICAgICAgICAgICBsb2dFcnJvcihgRXJyb3I6ICR7c3RhdHVzfWAsICdXT09fVVBMT0FEX0JVVFRPTicpO1xuICAgICAgICAgICAgICBhbGVydChNRVNTQUdFLlNTVV9GSUxFX1VQTE9BRF9FUlJPUik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlcHJvY2VzczogcHJlcHJvY2Vzc1MzRmlsZSxcbiAgICAgICAgICAgIHNjcnViRmlsZW5hbWU6IHNjcnViUzNGaWxlbmFtZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgZmlsZUlucHV0LmNsaWNrKCk7XG4gICAgfSk7XG4gIH0pO1xufSkoalF1ZXJ5KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=