(function(t,e,i){HTMLElement.prototype.isScrollable=function(){return{horizontal:this.scrollWidth>this.clientWidth,vertical:this.scrollHeight>this.clientHeight}};t.fn.isScrollable=function(){return{horizontal:this.length>0?this[0].scrollWidth>this[0].clientWidth:false,vertical:this.length>0?this[0].scrollHeight>this[0].clientHeight:false}};t.showOverlayScroll=function(e){var i=t(".deactivation-popup .overlay"),n=i.find(".scroll-down");e=typeof e!=="boolean"?false:e;var a=n.attr("data-shown"),o=n.attr("data-status");if(i.isScrollable().vertical){if(!a){n.removeClass("hidden");n.attr("data-shown",true)}}else{n.addClass("hidden");if(o!=="closed"&&e){n.removeAttr("data-shown")}}};t.removeOverlayScroll=function(){var e=t(".scroll-down");e.addClass("hidden");e.attr("data-status","closed")};t((function(){var n=t(this),a=t(window),o=t(".deactivation-popup"),r=o.find(".overlay");t.showOverlayScroll();a.on("resize",(function(){t.showOverlayScroll(true)}));r.on("scroll",(function(){t.removeOverlayScroll()}));n.on("click",".scroll-down",(function(){t.removeOverlayScroll();r.animate({scrollTop:r[0].scrollHeight-r[0].clientHeight},500)}));n.on("click",".deactivation-popup .close, .deactivation-popup",(function(t){if(this===t.target){o.addClass("hidden")}}));n.on("click",'tr[data-slug="shortpixel-adaptive-images"] .deactivate a',(function(t){t.preventDefault();o.removeClass("hidden")}));n.on("change",'.deactivation-popup input[name][type="radio"]',(function(){var e=t(this);var i=e.val(),n=e.attr("name");i=typeof i==="string"&&i!==""?i:undefined;n=typeof n==="string"&&n!==""?n:undefined;if(i===undefined||n===undefined){return}var a=t("p[data-"+n+'="'+i+'"]'),o=e.parents(".body").find("section[data-"+n+"]"),r=e.parents(".body").find("p[data-"+n+"]:not(p[data-"+n+'="'+i+'"])');r.addClass("hidden");a.removeClass("hidden");o.removeClass("hidden");t.showOverlayScroll()}));n.on("keyup",".deactivation-popup input[name], .deactivation-popup textarea[name]",(function(e){var i=["Enter","Escape"];if(!i.includes(e.key)){return}e.preventDefault();e.stopPropagation();if(e.key===i[0]){t('.deactivation-popup [data-action="deactivation"]').click()}else if(e.key===i[1]){t(".deactivation-popup .close").click()}}));n.on("click",".deactivation-popup button[data-action]",(function(i){var n=t(this),a=n.parents(".body").find(".options-wrap"),r=a.find('input[name][type="checkbox"]:checked, input[name][type="radio"]:checked'),d=a.find("input[name], textarea[name]").not('input[type="checkbox"], input[type="radio"]');var c={action:n.data("action")};c.action=typeof c.action==="string"&&c.action!==""?c.action:undefined;if(r.length>0){r.each((function(){var e=t(this),i=e.val(),n=e.attr("name");if(typeof i==="string"&&i!==""&&typeof n==="string"&&n!==""){c[n]=i}}))}if(d.length>0){d.each((function(){var e=t(this),i=e.val(),n=e.attr("name");if(typeof i==="string"&&i!==""&&typeof n==="string"&&n!==""){c[n]=i}}))}t.ajax({url:typeof ajaxurl==="string"&&ajaxurl!==""?ajaxurl:"/wp-admin/admin-ajax.php",method:"post",data:{action:"shortpixel_ai_handle_feedback_action",data:c},beforeSend:function(){n.prop("disabled",true)},error:function(t){console.log(t)},complete:function(){o.addClass("hidden");n.prop("disabled",false);var i=t('tr[data-slug="shortpixel-adaptive-images"] .deactivate a');if(i.length>0){var a=i.attr("href");if(typeof a==="string"&&a!==""){e.location.href=a}else{e.location.reload()}}}})}));n.on("click",'#screen-meta [data-plugin="shortpixel-adaptive-images"][data-action]',(function(){var i=t(this);var n=i.prop("tagName"),a=["input","button"],o={action:i.data("action")};n=typeof n==="string"&&n!==""?n.toLowerCase():undefined;o.action=typeof o.action==="string"&&o.action!==""?o.action:undefined;t.ajax({url:typeof ajaxurl==="string"&&ajaxurl!==""?ajaxurl:"/wp-admin/admin-ajax.php",method:"post",data:{action:"shortpixel_ai_handle_help_action",data:o},beforeSend:function(){if(a.includes(n)){i.prop("disabled",true)}},success:function(t){if(t.success){if(typeof t.reload==="object"&&!!t.reload.allowed){e.location.reload()}if(typeof t.redirect==="object"&&typeof t.redirect.url==="string"){e.location.href=t.redirect.url}}},error:function(t){console.log(t)},complete:function(){if(a.includes(n)){i.prop("disabled",false)}}})}));if(typeof tippy==="function"){i.tooltips=tippy("[data-tippy-content]",{animateFill:true,maxWidth:250,inertia:true,allowHTML:true})}function d(t,e,i,n){var a=window.screenLeft!==undefined?window.screenLeft:window.screenX;var o=window.screenTop!==undefined?window.screenTop:window.screenY;var r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var d=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var c=r/window.screen.availWidth;var l=(r-i)/2/c+a;var s=(d-n)/2/c+o;var p=window.open(t,e,"toolbar=0,status=0,resizable=1,width="+i/c+",height="+n/c+",top="+s+",left="+l);if(window.focus)p.focus()}n.on("click",".socials-block [data-social]",(function(e){e.preventDefault();var i=t(this);d(i.attr("href"),"Sharer",640,440)}))}))})(jQuery,document,window);